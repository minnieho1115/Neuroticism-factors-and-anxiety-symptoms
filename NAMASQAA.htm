LIBNAME IN 'C:\Users\Administrator\Desktop\data';

DATA TEMPX; SET IN.data1;
KEEP ID Gender NA SHS_TOT_I MASQ_AA_I;

PROC SORT; BY ID;
RUN;

PROC STANDARD DATA=TEMPX OUT=STDTEMPX MEAN=0 STD=1;
VAR MASQ_AA_I NA;
RUN;

PROC SORT; BY ID;
RUN;

DATA FU0; SET IN.data1;
KEEP ID TIME MASQ_AA_I SHS_TOT_I;
TIME = 0;

RENAME MASQ_AA_I= ANXIETY;
RENAME SHS_TOT_I = STRESS;

PROC SORT; BY ID;
RUN;
DATA FU1; SET IN.data1;
KEEP ID TIME MASQ_AA_1 SHS_TOT_1;
TIME = 1;


RENAME MASQ_AA_1 = ANXIETY;
RENAME SHS_TOT_1 = STRESS;
 


PROC SORT; BY ID;
RUN;
DATA FU2; SET IN.data1;
KEEP ID TIME MASQ_AA_2 SHS_TOT_2;
TIME = 2;


RENAME MASQ_AA_2 = ANXIETY;
RENAME SHS_TOT_2 = STRESS;



PROC SORT; BY ID;
RUN;

DATA FU3; SET IN.data1;
KEEP ID TIME MASQ_AA_3 SHS_TOT_3;
TIME = 3;


RENAME MASQ_AA_3 = ANXIETY;
RENAME SHS_TOT_3 = STRESS;
 


PROC SORT; BY ID;
RUN;
DATA FU4; SET IN.data1;
KEEP ID TIME MASQ_AA_4 SHS_TOT_4;
TIME = 4;


RENAME MASQ_AA_4 = ANXIETY;
RENAME SHS_TOT_4 = STRESS;
 


PROC SORT; BY ID;
RUN;
DATA FU5; SET IN.data1;
KEEP ID TIME MASQ_AA_5 SHS_TOT_5;
TIME = 5;


RENAME MASQ_AA_5 = ANXIETY;
RENAME SHS_TOT_5 = STRESS;
 


PROC SORT; BY ID;
RUN;
DATA FU6; SET IN.data1;
KEEP ID TIME MASQ_AA_6 SHS_TOT_6;
TIME = 6;


RENAME MASQ_AA_6 = ANXIETY;
RENAME SHS_TOT_6 = STRESS;
 


PROC SORT; BY ID;
RUN;
DATA TEMPY; MERGE FU1 FU2 FU3 FU4 FU5 FU6; BY ID TIME;

PROC SORT; BY ID TIME;
RUN;

DATA TEMPZ; MERGE STDTEMPX TEMPY; BY ID;

IF ANXIETY = . THEN DELETE;
IF STRESS = . THEN DELETE;

PROC SORT; BY ID TIME;
RUN;

PROC MEANS MEAN DATA=TEMPZ NOPRINT; BY ID;
  VAR ANXIETY STRESS;
  OUTPUT OUT=TOTAL MEAN= MN_ANXIETY MN_STRESS;
RUN;

PROC STANDARD DATA=TOTAL MEAN=0 STD=1 OUT=STDTOTAL;
  VAR MN_ANXIETY MN_STRESS;
RUN;

DATA FINAL; MERGE TEMPZ STDTOTAL; BY ID;

PROC STANDARD MEAN=0 DATA=FINAL OUT=FINALY; BY ID;
  VAR STRESS;
RUN;




	


